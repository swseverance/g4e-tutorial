<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test faulted state</title>

    <!-- tick42 glue -->
    <script type="text/javascript" src="../../../../../lib/tick42-glue/tick42-glue-dev.js"></script>

    <script type="text/javascript">
        window.onload = function(){

            var options={
                arguments: {},
                target: 'best',
                waitTimeoutMs: 3000 // ms to wait for the stream to appear, if not available after subscribe will fail - default 3000
            }

            glue.agm.subscribe("MockNif", options)
                    .then(function(subscription){
                        console.log('subscribed ')
                        subscription.onData(function(e){console.log('Data ', e)})
                        subscription.onClosed(function(e){console.log('Closed ', e)})
                        subscription.onFailed(function(e){console.log('Failed ', e)})
                    })
                    .catch(function(error){
                        console.log('notification stream fail subscribe ', error)

                    })

        }

    </script>
</head>
<body style="background-color: limegreen;">
    <h1>TEST SUBSCRIBER</h1>
</body>
</html>